@using hub.Shared.Models.Todo

<div class="card">
    <div class="card-content">
        <input type="text" placeholder="Enter Title." @onfocusout="@OnFocusOut" @bind="@Title">
    </div>
</div>

@code {
    private TodoModel _item;

    [Parameter]
    public TodoModel Item
    {
        get => _item;
        set { 
            _edited = false;
            _item = value;
        }
    }
    
    [Parameter]
    public Func<Task> SaveCommand { get; set; }

    private string Title
    {
        get => Item.Title;
        set
        {
            _edited = true;
            Item.Title = value;
        }
    }
    
    private bool _edited = false;

    private void OnFocusOut()
    {
        if (_edited)
        {
            SaveCommand?.Invoke();
        }
    }
}